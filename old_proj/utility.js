function setTo2Digits(a){return((a.toString().length==1)?"0"+a:a)}function getLastDayOfMonth(c,b){var a=new Array(31,28,31,30,31,30,31,31,30,31,30,31);return a[c]+((c==1&&(b%4)==0)?1:0)}function getCheckedValue(b){for(var a=0;a<b.length;a++){if(b[a].checked){return b[a].value}}return""}function clearDropDown(b){for(var a=(b.options.length-1);a>=0;a--){b.options[a]=null}}function clearCityDropDown(b){for(var a=(b.options.length-1);a>=1;a--){b.options[a]=null}}function setCityDropDown(c,b){for(var a=0;a<b.length;a+=2){c.options[c.length]=new Option(b[a+1],b[a])}c.selectedIndex=0}function setCabinDropDown(c,b){for(var a=0;a<b.length;a+=2){c.options[c.length]=new Option(b[a+1],b[a])}c.selectedIndex=1}function setTimeDropDown(d){for(var a=0;a<=23;a++){var b=setTo2Digits(a)+"00";var c=setTo2Digits(a)+":00";d.options[d.length]=new Option(c,b)}d.selectedIndex=7}function isMatchArray(b,c){for(var a=0;a<c.length;a++){if(c[a]==b){return true}}return false}function setTravellerDropDown(g){var h=document.form1.lstTravellerAdults;var e=document.form1.lstTravellerChildren;var f=0;var b=0;var a=0;var c=0;switch(g){case"adults":case"children":f=g_maxTraveller-e.options[e.selectedIndex].value;b=g_maxTraveller-h.options[h.selectedIndex].value;a=h.selectedIndex;c=e.selectedIndex;break;default:f=g_maxTraveller;b=g_maxTraveller-1;a=0;c=0}clearDropDown(h);clearDropDown(e);for(var d=1;d<=f;d++){h.options[h.length]=new Option(d,d)}for(var d=0;d<=b;d++){e.options[e.length]=new Option(d,d)}h.selectedIndex=a;e.selectedIndex=c}function setDateMonthDropDown(d,f){var a=new Date();var c=a.getDate();var h=a.getMonth();var j=a.getFullYear();for(var g=1;g<=getLastDayOfMonth(h,j);g++){d.options[d.length]=new Option(g,setTo2Digits(g));if(g==c){d.options[d.length-1].selected=1}}for(var g=0;g<12;g++){var e=j+((g<h)?1:0);var b=g_arrMonthName[g]+" "+(e+g_addYearDisplay);var k=e+g_arrMonthNum[g];f.options[f.length]=new Option(b,k);if(g==h){f.options[f.length-1].selected=1}}return true}function changeMonthDropDown(a,f){var b=parseInt(a.value,10);var e=parseInt(f.value.substring(4),10)-1;var d=parseInt(f.value.substring(4,0),10);clearDropDown(a);for(var c=1;c<=getLastDayOfMonth(e,d);c++){a.options[a.length]=new Option(c,setTo2Digits(c));if(c==b){a.options[a.length-1].selected=1}}return true}var g_newwindow="";function openNewWindow(a){if(!g_newwindow.closed&&g_newwindow.location){g_newwindow.location.href=a}else{if((screen.width>=1024)&&(screen.height>=768)){g_newwindow=window.open(a,"_blank","width=210,height=210,status=no,resizable=no,top=290,left=330")}else{g_newwindow=window.open(a,"_blank","width=210,height=210,status=no,resizable=no,top=260,left=220")}if(!g_newwindow.opener){g_newwindow.opener=self}}if(window.focus){g_newwindow.focus()}return false}function formatDate(b){var c=b.getMonth()+1;var a=b.getDate();return b.getFullYear()+""+(c<10?"0"+c:c)+""+(a<10?"0"+a:a)}function getEndDate(a){return new Date(a.getFullYear()+1,a.getMonth(),a.getDate())}function OpenCalendarDate(f,i){var e=i.value;var l=g_arrMonthName[parseInt(e.substr(4,2),10)-1]+e.substr(0,4);var k="form1."+f.name;var c="form1."+i.name;var j="";var b="";var h="Date";var g=formatDate(new Date());var d=formatDate(getEndDate(new Date()));var a="calendar.html?dateType="+h+"&fromDate="+g+"&toDate="+d+"&selectedMonthYear="+l+"&fromDateDayElement="+k+"&fromDateMonthYearElement="+c+"&toDateDayElement="+j+"&toDateMonthYearElement="+b;openNewWindow(a)}function OpenCalendar(g){var k,j,c,h,b,e,i;switch(g){case"DepartureDate":e=document.form1.lstDepMonth.value;k=g_arrMonthName[parseInt(e.substr(4,2),10)-1]+e.substr(0,4);j="form1.lstDepDay";c="form1.lstDepMonth";h="form1.lstArrDay";b="form1.lstArrMonth";break;case"ArrivalDate":i=document.form1.lstArrMonth.value;k=g_arrMonthName[parseInt(i.substr(4,2),10)-1]+i.substr(0,4);j="form1.lstDepDay";c="form1.lstDepMonth";h="form1.lstArrDay";b="form1.lstArrMonth";break;case"Date":k=document.form1.lstDepMonth.value;j="form1.lstDepDay";c="form1.lstDepMonth";h="";b="";break}var f=formatDate(new Date());var d=formatDate(getEndDate(new Date()));var a="calendar.html?dateType="+g+"&fromDate="+f+"&toDate="+d+"&selectedMonthYear="+k+"&fromDateDayElement="+j+"&fromDateMonthYearElement="+c+"&toDateDayElement="+h+"&toDateMonthYearElement="+b;openNewWindow(a)};